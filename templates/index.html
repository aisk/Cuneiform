{% extends "layout.html" %}
{% block title %}{% if tag %}{{ tag.name }}{% else %}Posts{% endif %} - Cuneiform{% endblock %}
{% block body %}
{% if posts %}
  <div class="posts">
    {% if tag %}
    <h1>Index of tag: {{ tag.name }}</h1>
    {% else %}
    <h1>All Posts</h1>
    {% endif %}
    {% for post in posts %}
    <h3><a href="{{ url_for('show_post', post_id=post.id) }}">{{ post.get('title') }}</a></h3>
    {% endfor %}
  </div>
  <nav aria-label="...">
    <ul class="pager">
      {% if page > 1 %}<li><a href="{{ url_for('index', page=page-1) }}">Previous</a></li>{% endif %}
      {% if next %}<li><a href="{{ url_for('index', page=page+1) }}">Next</a></li>{% endif %}
    </ul>
  </nav>
{% else %}
  <div class="no-posts">
    <p>No posts yet. Why not <a href="{{ url_for('post_form') }}">create</a> some?</p>
  </div>
{% endif %}
{% endblock %}
